{% extends 'base.html' %}

{% block title %}Blog Items{% endblock %}

{% block footer %}
{% endblock %}

{% block body %}
<ul class="nav nav-tabs">
  <li role="presentation" class="active"><a href="#">Blog Posts</a></li>
  <li role="presentation"><a href="/post/new">New Post</a></li>
</ul>

<h1>Blog Posts</h1>

<div class="panel panel-default">
  <!-- Default panel contents -->
  <div class="panel-heading">Blog posts</div>
  <!--<div class="panel-body">
  </div>-->

  <!-- Table -->
  <table class="table">
      <thead>
          <tr>
              <th>id</th>
              <th>Date</th>
              <th>Title</th>
              <th>Text</th>
              <th>Posted by</th>
              <th>Commands</th>
          </tr>
      </thead>
    {% for key, entry in blog %}
    <tbody>
    <tr>
        <td><a href="/post/show/{{ entry.blog_id }}">{{ entry.blog_id }}</a></td>
        <td>{{ entry.timestamp|date }} </td>
        <td><a href="/post/show/{{ entry.blog_id }}">{{ entry.title }}</a></td>
        <td>{{ entry.post[:200] ~ '...' }}</td>
        <td>{{ entry.name }}</td>
        <td>
            <a href="/post/show/{{ entry.blog_id }}">
                <button type="submit" class="btn btn-default">
                    View
                </button>
            </a>
            <a href="/post/edit/{{ entry.blog_id }}">
                <button type="submit" class="btn btn-default">
                   Edit
                </button>
            </a>
            <a href="/post/delete/{{ entry.blog_id }}">
                <button type="submit" class="btn btn-default">
                    Delete
                </button>
            </a>
        </td>
    </tr>
    </tbody>
    {% endfor %}
  </table>
</div>

{% endblock %}
